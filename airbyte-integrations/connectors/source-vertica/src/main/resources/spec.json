{
  "documentationUrl": "https://docs.airbyte.io/integrations/sources/vertica",
  "connectionSpecification": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Vertica Source Spec",
    "type": "object",
    "required": ["host", "port", "database", "username"],
    "properties": {
      "host": {
        "title": "Host",
        "description": "Hostname of the database.",
        "type": "string",
        "order": 0
      },
      "port": {
        "title": "Port",
        "description": "Port of the database.",
        "type": "integer",
        "minimum": 0,
        "maximum": 65536,
        "default": 5433,
        "examples": ["5433"],
        "order": 1
      },
      "database": {
        "title": "Database",
        "description": "Name of the database.",
        "type": "string",
        "order": 2
      },
      "schemas": {
        "title": "Schemas",
        "description": "The list of schemas (case sensitive) to sync from. Defaults to public.",
        "type": "array",
        "items": {
          "type": "string"
        },
        "minItems": 0,
        "uniqueItems": true,
        "default": ["public"],
        "order": 3
      },
      "username": {
        "title": "Username",
        "description": "Username to use to access the database.",
        "type": "string",
        "order": 4
      },
      "password": {
        "title": "Password",
        "description": "Password associated with the username.",
        "type": "string",
        "airbyte_secret": true,
        "order": 5
      },
      "replication": {
        "type": "object",
        "title": "Replication Method",
        "description": "The replication method used for extracting data from the database. STANDARD replication requires no setup on the DB side but will not be able to represent deletions incrementally. CDC uses {TBC} to detect inserts, updates, and deletes. This needs to be configured on the source database itself.",
        "default": "STANDARD",
        "order": 6,
        "oneOf": [
          {
            "title": "Standard",
            "description": "Standard replication requires no setup on the DB side but will not be able to represent deletions incrementally.",
            "required": ["replication_type"],
            "properties": {
              "replication_type": {
                "type": "string",
                "const": "STANDARD",
                "enum": ["STANDARD"],
                "default": "STANDARD",
                "order": 0
              }
            }
          },
          {
            "title": "Logical Replication (CDC)",
            "description": "CDC uses {TBC} to detect inserts, updates, and deletes. This needs to be configured on the source database itself.",
            "required": ["replication_type"],
            "properties": {
              "replication_type": {
                "type": "string",
                "const": "CDC",
                "enum": ["CDC"],
                "default": "CDC",
                "order": 0
              },
              "data_to_sync": {
                "title": "Data to Sync",
                "type": "string",
                "default": "Existing and New",
                "enum": ["Existing and New", "New Changes Only"],
                "description": "What data should be synced under the CDC. \"Existing and New\" will read existing data as a snapshot, and sync new changes through CDC. \"New Changes Only\" will skip the initial snapshot, and only sync new changes through CDC.",
                "order": 1
              },
              "snapshot_isolation": {
                "title": "Initial Snapshot Isolation Level",
                "type": "string",
                "default": "Snapshot",
                "enum": ["Snapshot", "Read Committed"],
                "description": "Existing data in the database are synced through an initial snapshot. This parameter controls the isolation level that will be used during the initial snapshotting. If you choose the \"Snapshot\" level, you must enable the <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/sql/snapshot-isolation-in-sql-server\">snapshot isolation mode</a> on the database.",
                "order": 2
              }
            }
          }
        ]
      }
    }
  }
}
